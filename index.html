<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hayatın RPG Oyunu 2.0 🎮</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #4b6cb7, #182848);
      color: white;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 550px;
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      text-align: center;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
      text-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    .class-select {
      margin: 20px 0;
    }

    .class-btn {
      background: #555;
      color: white;
      border: none;
      padding: 10px 15px;
      margin: 5px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .class-btn:hover {
      background: #777;
    }

    .class-btn.selected {
      background: #FF6B6B;
      transform: scale(1.05);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin: 20px 0;
      font-weight: bold;
    }

    .stat {
      background: rgba(255,255,255,0.1);
      padding: 10px;
      border-radius: 10px;
      font-size: 0.95rem;
    }

    .level {
      font-size: 1.5rem;
      margin: 15px 0;
      color: #FFD700;
    }

    button {
      background: #FF6B6B;
      color: white;
      border: none;
      padding: 15px 30px;
      margin: 10px 5px;
      border-radius: 50px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(255,107,107,0.4);
    }

    button:hover {
      background: #FF5252;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255,107,107,0.6);
    }

    button:disabled {
      background: #555;
      cursor: not-allowed;
      transform: none;
    }

    .quest-box {
      background: rgba(0,0,0,0.2);
      padding: 20px;
      border-radius: 15px;
      margin: 20px 0;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      text-align: center;
      position: relative;
    }

    .quest-box.negative {
      background: rgba(200, 50, 50, 0.2);
      border: 2px dashed #ff5555;
    }

    .inventory {
      margin-top: 30px;
      width: 100%;
    }

    .inventory h3 {
      margin-bottom: 10px;
      font-size: 1.3rem;
    }

    .item {
      background: rgba(255,255,255,0.15);
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      font-size: 0.95rem;
    }

    .completed {
      opacity: 0.6;
      text-decoration: line-through;
    }

    .skills {
      margin-top: 20px;
      text-align: left;
    }

    .skill {
      background: rgba(255,255,255,0.1);
      padding: 8px;
      margin: 5px 0;
      border-radius: 5px;
      font-size: 0.9rem;
    }

    .streak {
      font-size: 1.2rem;
      margin: 15px 0;
      color: #FFD700;
    }

    footer {
      margin-top: 30px;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    @media (max-width: 600px) {
      .stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎮 Hayatın RPG Oyunu 2.0</h1>

    <div id="classSelection" class="class-select">
      <p>🧍‍♂️ Karakter sınıfını seç:</p>
      <button class="class-btn" data-class="warrior">🛡️ Savaşçı (Sağlık +30, Stres +10)</button>
      <button class="class-btn" data-class="mage">🧠 Büyücü (Odak +30, Enerji -20)</button>
      <button class="class-btn" data-class="rogue">🥷 Hırsız (XP x1.5, Para -50%)</button>
    </div>

    <div id="gameArea" style="display:none;">
      <div class="level">Seviye: <span id="level">1</span> | XP: <span id="xp">0</span>/<span id="nextLevel">100</span></div>
      <div class="streak">🔥 Streak: <span id="streak">0</span> gün</div>

      <div class="stats">
        <div class="stat">🩷 Sağlık: <span id="health">100</span></div>
        <div class="stat">⚡ Enerji: <span id="energy">100</span></div>
        <div class="stat">🎯 Odak: <span id="focus">50</span></div>
        <div class="stat">💸 Para: <span id="money">100</span></div>
        <div class="stat">😰 Stres: <span id="stress">0</span></div>
        <div class="stat">🧠 Motivasyon: <span id="motivation">50</span></div>
      </div>

      <div class="quest-box" id="questBox">
        Görev almak için "Yeni Görev" butonuna bas!
      </div>

      <button id="newQuest">✨ Yeni Görev</button>
      <button id="completeQuest" disabled>✅ Görevi Tamamla</button>
      <button id="skipQuest" disabled>❌ Görevi Geç (Cezalı!)</button>

      <div class="skills">
        <h3>🌳 Beceri Ağacın</h3>
        <div id="skillsList">
          <!-- JS ile doldurulacak -->
        </div>
      </div>

      <div class="inventory">
        <h3>🎒 Eşyaların</h3>
        <div id="inventoryList">
          <!-- JS ile doldurulacak -->
        </div>
      </div>
    </div>
  </div>

  <footer>
    Her gün saat 00:00'da yeni macera! Başarısızlık da hayatın一部分 😅
  </footer>

  <script>
    // Game State
    let gameState = {
      level: 1,
      xp: 0,
      health: 100,
      energy: 100,
      focus: 50,
      money: 100,
      stress: 0,
      motivation: 50,
      inventory: [],
      skills: [],
      currentQuest: null,
      nextLevel: 100,
      streak: 0,
      lastPlayed: null,
      characterClass: null
    };

    // DOM Elements
    const classSelection = document.getElementById('classSelection');
    const gameArea = document.getElementById('gameArea');
    const levelEl = document.getElementById('level');
    const xpEl = document.getElementById('xp');
    const nextLevelEl = document.getElementById('nextLevel');
    const healthEl = document.getElementById('health');
    const energyEl = document.getElementById('energy');
    const focusEl = document.getElementById('focus');
    const moneyEl = document.getElementById('money');
    const stressEl = document.getElementById('stress');
    const motivationEl = document.getElementById('motivation');
    const streakEl = document.getElementById('streak');
    const questBox = document.getElementById('questBox');
    const newQuestBtn = document.getElementById('newQuest');
    const completeQuestBtn = document.getElementById('completeQuest');
    const skipQuestBtn = document.getElementById('skipQuest');
    const skillsList = document.getElementById('skillsList');
    const inventoryList = document.getElementById('inventoryList');

    // Class Bonuses
    const classBonuses = {
      warrior: { health: 30, stress: 10, name: "Savaşçı" },
      mage: { focus: 30, energy: -20, name: "Büyücü" },
      rogue: { xpMultiplier: 1.5, money: -50, name: "Hırsız" }
    };

    // Skill Tree Options
    const skillOptions = [
      { name: "Sabahçı ☀️", desc: "Sabah görevlerinde +20% ödül", unlocked: false, cost: 50 },
      { name: "Gece Kuşu 🌙", desc: "Akşam görevlerinde stres -10", unlocked: false, cost: 50 },
      { name: "Sosyal 🗣️", desc: "Arkadaşlı görevlerde motivasyon +15", unlocked: false, cost: 75 },
      { name: "Yalnız Kurt 🐺", desc: "Yalnız görevlerde enerji -10%", unlocked: false, cost: 75 },
      { name: "Stres Yönetimi 🧘", desc: "Stres birikimi %30 azalır", unlocked: false, cost: 100 },
      { name: "Motivasyon Uzmanı 💪", desc: "Motivasyon düşüşü %50 azalır", unlocked: false, cost: 100 }
    ];

    // Quests (Positive & Negative)
    const quests = [
      // POSITIVE
      { text: "3 bardak su iç", xp: 10, health: 10, energy: -5, focus: 0, money: 0, stress: -5, motivation: 5, item: null, type: "positive" },
      { text: "10 dakika derin nefes al", xp: 15, health: 15, energy: -10, focus: 5, money: 0, stress: -10, motivation: 10, item: null, type: "positive" },
      { text: "Birine iltifat et", xp: 10, health: 5, energy: 0, focus: 0, money: 0, stress: -10, motivation: 15, item: null, type: "positive" },
      { text: "5 dakika yürüyüş yap", xp: 25, health: 20, energy: -15, focus: 5, money: 0, stress: -5, motivation: 10, item: "Spor Ayakkabı 🏃‍♂️", type: "positive" },
      { text: "Bir kitap sayfası oku", xp: 15, health: 0, energy: -10, focus: 10, money: 0, stress: -5, motivation: 5, item: "Bilgelik Kitabı 📖", type: "positive" },
      { text: "Kahvaltını düzenle", xp: 20, health: 15, energy: -5, focus: 5, money: -10, stress: -10, motivation: 10, item: "Kahvaltı Tepsisi 🍳", type: "positive" },
      { text: "Güneş ışığına 5 dakika maruz kal", xp: 20, health: 20, energy: -5, focus: 5, money: 0, stress: -10, motivation: 5, item: "Güneş Gözlüğü ☀️", type: "positive" },

      // NEGATIVE / CHAOTIC
      { text: "Alarmı 5 kez erteledin", xp: 0, health: -10, energy: -20, focus: -10, money: 0, stress: 15, motivation: -20, item: null, type: "negative" },
      { text: "Kahveni döktün", xp: -5, health: 0, energy: -10, focus: -5, money: -5, stress: 10, motivation: -10, item: null, type: "negative" },
      { text: "Telefonun bitti, şarj aletini unuttun", xp: 0, health: 0, energy: -30, focus: -20, money: 0, stress: 25, motivation: -15, item: null, type: "negative" },
      { text: "Şemsiyeni unuttun, yağmurda kaldın", xp: -10, health: -15, energy: -20, focus: -10, money: 0, stress: 20, motivation: -25, item: "Islak Mont 🌧️ (Enerji -5 kalıcı)", type: "negative" },
      { text: "Yanlış kişiye mesaj attın", xp: -15, health: 0, energy: -10, focus: -15, money: 0, stress: 30, motivation: -20, item: null, type: "negative" },
      { text: "Uykusuz kaldın, film izledin", xp: 5, health: -20, energy: -40, focus: -15, money: -10, stress: 10, motivation: -5, item: "Karanlık Çember Gözlük 🌑", type: "negative" },
      { text: "Market alışverişi unuttun", xp: 0, health: -5, energy: -10, focus: 0, money: 0, stress: 20, motivation: -10, item: null, type: "negative" }
    ];

    // Load Game
    function loadGame() {
      const saved = localStorage.getItem('lifeRPG2');
      if (saved) {
        gameState = JSON.parse(saved);
        // Check if new day → reset streak if broken
        const today = new Date().toDateString();
        if (gameState.lastPlayed && gameState.lastPlayed !== today) {
          const lastDate = new Date(gameState.lastPlayed);
          const yesterday = new Date();
          yesterday.setDate(yesterday.getDate() - 1);
          if (lastDate.toDateString() !== yesterday.toDateString()) {
            gameState.streak = 0;
          }
        }
      } else {
        // Initialize skill tree
        gameState.skills = skillOptions.map(s => ({ ...s, unlocked: false }));
      }
      renderGame();
    }

    // Save Game
    function saveGame() {
      gameState.lastPlayed = new Date().toDateString();
      localStorage.setItem('lifeRPG2', JSON.stringify(gameState));
    }

    // Render UI
    function renderGame() {
      if (!gameState.characterClass) {
        classSelection.style.display = 'block';
        gameArea.style.display = 'none';
        return;
      }

      classSelection.style.display = 'none';
      gameArea.style.display = 'block';

      levelEl.textContent = gameState.level;
      xpEl.textContent = gameState.xp;
      nextLevelEl.textContent = gameState.nextLevel;
      healthEl.textContent = gameState.health;
      energyEl.textContent = gameState.energy;
      focusEl.textContent = gameState.focus;
      moneyEl.textContent = gameState.money;
      stressEl.textContent = gameState.stress;
      motivationEl.textContent = gameState.motivation;
      streakEl.textContent = gameState.streak;

      // Render inventory
      inventoryList.innerHTML = '';
      gameState.inventory.forEach(item => {
        const div = document.createElement('div');
        div.className = 'item';
        div.textContent = item;
        inventoryList.appendChild(div);
      });

      // Render skills
      skillsList.innerHTML = '';
      gameState.skills.forEach(skill => {
        const div = document.createElement('div');
        div.className = 'skill';
        div.textContent = `${skill.name} — ${skill.desc}`;
        if (skill.unlocked) {
          div.style.color = '#50fa7b';
          div.textContent = `✅ ${skill.name} — ${skill.desc}`;
        } else {
          div.textContent = `🔒 ${skill.name} — ${skill.desc} (XP: ${skill.cost})`;
        }
        skillsList.appendChild(div);
      });

      // Update quest box
      if (gameState.currentQuest) {
        questBox.textContent = gameState.currentQuest.text;
        questBox.className = 'quest-box ' + (gameState.currentQuest.type === 'negative' ? 'negative' : '');
        completeQuestBtn.disabled = false;
        skipQuestBtn.disabled = false;
      } else {
        questBox.textContent = "Görev almak için 'Yeni Görev' butonuna bas!";
        questBox.className = 'quest-box';
        completeQuestBtn.disabled = true;
        skipQuestBtn.disabled = true;
      }
    }

    // Select Class
    document.querySelectorAll('.class-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const className = this.dataset.class;
        gameState.characterClass = className;
        applyClassBonuses(className);
        document.querySelectorAll('.class-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
        saveGame();
        renderGame();
      });
    });

    function applyClassBonuses(className) {
      const bonus = classBonuses[className];
      gameState.health += bonus.health || 0;
      gameState.focus += bonus.focus || 0;
      gameState.energy += bonus.energy || 0;
      gameState.money += bonus.money || 0;
      gameState.xpMultiplier = bonus.xpMultiplier || 1;
    }

    // New Quest
    function assignNewQuest() {
      if (gameState.currentQuest) {
        alert("Önce mevcut görevini tamamla veya geç!");
        return;
      }

      // %30 ihtimalle negatif görev
      const isNegative = Math.random() < 0.3;
      const filteredQuests = quests.filter(q => 
        (isNegative && q.type === 'negative') || (!isNegative && q.type === 'positive')
      );

      const randomQuest = filteredQuests[Math.floor(Math.random() * filteredQuests.length)];
      gameState.currentQuest = randomQuest;
      renderGame();
    }

    // Complete Quest
    function completeCurrentQuest() {
      if (!gameState.currentQuest) return;

      const quest = gameState.currentQuest;

      // Apply rewards/penalties
      gameState.xp += Math.floor(quest.xp * (gameState.xpMultiplier || 1));
      gameState.health = Math.max(0, Math.min(100, gameState.health + quest.health));
      gameState.energy = Math.max(0, Math.min(100, gameState.energy + quest.energy));
      gameState.focus = Math.max(0, Math.min(100, gameState.focus + quest.focus));
      gameState.money = Math.max(0, gameState.money + quest.money);
      gameState.stress = Math.max(0, Math.min(100, gameState.stress + quest.stress));
      gameState.motivation = Math.max(0, Math.min(100, gameState.motivation + quest.motivation));

      // Add item if any
      if (quest.item && !gameState.inventory.includes(quest.item)) {
        gameState.inventory.push(quest.item);
        if (quest.type === 'negative') {
          alert(`🌧️ Felaket eseri: ${quest.item}`);
        } else {
          alert(`🎁 Yeni eşya: ${quest.item}`);
        }
      }

      // Level up check
      if (gameState.xp >= gameState.nextLevel) {
        gameState.level++;
        gameState.xp -= gameState.nextLevel;
        gameState.nextLevel = Math.floor(gameState.nextLevel * 1.5);
        alert(`🎉 SEVİYE ${gameState.level}'E YÜKSELDİN!`);
      }

      // Streak
      gameState.streak++;
      if (gameState.streak % 7 === 0) {
        alert(`🏆 7 GÜNLÜK STREAK! Özel ödül: Motivasyon +30`);
        gameState.motivation = Math.min(100, gameState.motivation + 30);
      }

      // Clear quest
      gameState.currentQuest = null;
      saveGame();
      renderGame();
    }

    // Skip Quest (Penalty)
    function skipCurrentQuest() {
      if (!gameState.currentQuest) return;
      alert("❌ Görevi geçtin! Stres +20, XP -10");
      gameState.stress = Math.min(100, gameState.stress + 20);
      gameState.xp = Math.max(0, gameState.xp - 10);
      gameState.currentQuest = null;
      saveGame();
      renderGame();
    }

    // Event Listeners
    newQuestBtn.addEventListener('click', assignNewQuest);
    completeQuestBtn.addEventListener('click', completeCurrentQuest);
    skipQuestBtn.addEventListener('click', skipCurrentQuest);

    // Initialize
    loadGame();
  </script>
</body>
</html>
